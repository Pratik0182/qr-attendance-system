{% extends 'base.html' %}
{% block content %}
<div style="max-width: 800px; margin: 0 auto;">
    <h2>Teacher Dashboard - {{ course_code }}</h2>
    
    <div style="display: flex; gap: 20px; margin: 30px 0;">
        <a href="/teacher/manual-attendance/{{ course_code }}" 
           style="flex: 1; padding: 20px; background-color: #4CAF50; color: white; text-decoration: none; border-radius: 5px; text-align: center; font-size: 16px;">
            Manual Attendance
        </a>
        <a href="/teacher/qr-attendance/{{ course_code }}"
           style="flex: 1; padding: 20px; background-color: #2196F3; color: white; text-decoration: none; border-radius: 5px; text-align: center; font-size: 16px;">
            QR Attendance
        </a>
    </div>

    <div style="margin-top: 30px;">
        <h3>Overall Attendance Records</h3>
        <table style="width: 100%; border-collapse: collapse; margin-top: 10px; background: var(--table-bg, #fff); color: var(--table-text, #222);">
            <thead>
                <tr style="background-color: var(--table-header-bg, #f5f5f5); color: var(--table-header-text, #222);">
                    <th style="padding: 12px; text-align: left; border: 1px solid #ddd;">Roll Number</th>
                    <th style="padding: 12px; text-align: center; border: 1px solid #ddd;">Total Classes</th>
                    <th style="padding: 12px; text-align: center; border: 1px solid #ddd;">Classes Attended</th>
                    <th style="padding: 12px; text-align: center; border: 1px solid #ddd;">Attendance %</th>
                </tr>
            </thead>
            <tbody>
                {% for record in attendance_records %}
                <tr>
                    <td style="padding: 12px; border: 1px solid #444; background: var(--table-bg, #fff); color: var(--table-text, #222);">{{ record.roll_number }}</td>
                    <td style="padding: 12px; text-align: center; border: 1px solid #ddd;">{{ record.total }}</td>
                    <td style="padding: 12px; text-align: center; border: 1px solid #ddd;">{{ record.attended }}</td>
                    <td style="padding: 12px; text-align: center; border: 1px solid #ddd;">
                        {{ "%.2f"|format(record.percentage) }}%
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}
